<div class="container-sm">
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/
        var categoryURL = /*[[${portal.componentUrl({})}]]*/;
        /*]]>*/
    </script>
    <br>
    <br>
    <div class="d-flex flex-column">
        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-4">
                        <div class="card shadow mb-4">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Category Data Add Form</h6>
                            </div>
                            <div class="card-body">
                                <div class="container">
                                    <form id="category-form">
                                        <div class="form-group">
                                            <label>Category Name</label>
                                            <input type="text" class="form-control"
                                                   placeholder="Enter Category Name" id="name" name="name"
                                                   th:value="${name}">
                                        </div>
                                        <br>
                                        <div class="form-group">
                                            <label>Category Code</label>
                                            <input type="text" class="form-control"
                                                   placeholder="Enter Category Code" id="code" name="code"
                                                   th:value="${code}">
                                        </div>
                                        <br>
                                        <button id="product-category-submit" class="btn btn-primary" type="submit">
                                            Submit
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-8">
                        <div class="container">
                            <div class="card-header py-3">
                                <h6 class="m-0 font-weight-bold text-primary">Category</h6>
                            </div>
                            <div class="card-body">
                                <div class="container-fluid">
                                    <table class="table panel panel-default">
                                        <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Category Name</th>
                                            <th scope="col">Category Code</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="category, index : ${categoriesList}">
                                            <th th:text="${index.index + 1}"></th>
                                            <td th:text="${category.name}"></td>
                                            <td th:text="${category.code}"></td>
                                            <td><a class="btn btn-info btn-icon-split btn-space" data-toggle="modal"
                                                   data-target="#productUpdateModal" id="productCatModalOpener"
                                                   onclick="setValue(this)" th:attr="data-object=${category}">
                                        <span class="icon text-white-50">
                                            <i class="fas fa-info-circle"></i>
                                        </span>
                                            </a></td>
                                            <td>
                                                <a class="btn btn-danger btn-icon-split"
                                                   data-target="#deleteModalCenter" data-toggle="modal"
                                                   th:attr="data-object=${category}" onclick="deleteCategory(this)">
                                            <span class="icon text-white-50">
                                                <i class="fas fa-trash"></i>
                                            </span>
                                                </a>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                 data-backdrop="static"
                 id="productUpdateModal"
                 aria-hidden="true">
                <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
                    <div class="modal-content">
                        <div class="modal-header card-header py-3">
                            <h5 class="modal-title m-0 font-weight-bold text-primary" id="exampleModalLabel">Update
                                Category</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form id="product-update-form">
                                <div class="form-group">
                                    <input type="hidden" class="form-control"
                                           id="updateId" th:value="${updateId}" name="updateId">
                                </div>
                                <div class="form-group">
                                    <label for="nameUpdate">Category Name</label>
                                    <input type="text" class="form-control"
                                           id="nameUpdate" th:value="${nameUpdate}" name="nameUpdate">
                                </div>
                                <div class="form-group">
                                    <label for="codeUpdate">Category Code</label>
                                    <input type="text" class="form-control" id="codeUpdate" th:value="${codeUpdate}"
                                           name="codeUpdate">
                                </div>
                                <br>
                                <br>
                                <div class="modal-footer">
                                    <button type="button" id="cancel" class="btn btn-secondary" data-dismiss="modal">
                                        Close
                                    </button>
                                    <button type="submit" class="btn btn-primary" id="product-update-submit">Save
                                        changes
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="deleteModalCenter" tabindex="-1" role="dialog" aria-labelledby="deleteModalCenterTitle"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title  m-0 font-weight-bold text-danger" id="deleteModalLongTitle">
                        Confirmation</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body text-danger">
                    <div class="form-group">
                        <input type="hidden" class="form-control"
                               id="deleteId" th:value="${deleteId}" name="updateId">
                    </div>
                    Are you sure ,you want to delete this category?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-danger" id="categoryDelete">Delete</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript"
        data-th-src="${portal.assetUrl({'_path=js/private/productCategory.js'})}"></script>

